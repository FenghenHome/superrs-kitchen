v3.1.1.0
Fixed language entries getting cut off if there is an equal symbol in the text. Fixed gitlab username error message disappearing so fast you can't see it. Added check with gitlab api to be sure your username is correct as it will mess up the kitchen updater otherwise. Fixed crash when extracting older Nexus firmware that does not contain a vendor.img. Fixed custom bloat list not being refreshed when bloat_custom file changes. Read url output directly instead of downloading/reading a temporary file. Added several items to the knox remove list and bloat list. Added Windows support to the superr launcher (not superr.exe) for those who prefer to start the kitchen from the Windows command line.

v3.1.0.9
Do not reset language when resetting all tools. Fixed crash when unpacking boot.img.

v3.1.0.8
Get boot.vdex classes name from boot.oat when deodexing Oreo. Added encoding type to language files to ensure proper display. Fixed extra quote being added to some set_metadata lines when using default perms.

v3.1.0.7
Fixed crash when choosing Boot/Recovery Tools menu on Pixel firmware. Handle exception when subproccess communicate fails.

v3.1.0.6
New Oreo deodex method based on vdexExtractor by @anestisb. Use apk name for deodexing instead of app directory name in case the names are different. Updated md5 for Android Image Kitchen by @osm0sis to v3.1. Added support for ramdisk.img/kernel.img from Huawei Oreo firmware. Added /system/etc/selinux to the search locations for file_contexts. Fixed crash replacing lower case partitions with upper case in the updater-script.

v3.1.0.5
Fixed custom directory display in the Extra Directory Menu when there are more than one. Ask if custom directories should be flashed to a partition instead of assuming they should. Use a python dictionary to store language data instead of importing variables. Removed all color and newline escape codes from language file. Remember language choice after update. Fixed asserts not coming back after you remove them from the asserts menu and try to add them back. General code cleanup.

v3.1.0.4
Ask for confirmation before recording the gitlab username in case of typos. Prevent the possibility of having more than one username in the git config. Fixed crash when devicename has not been defined before pulling img from custom recovery.

v3.1.0.3
Added skip and quit options to the by-name detection menu. Fixed possibility for crash when checking boot status if we don't find a ramdisk. Fixed crash if system.new.dat is named system.new.dat.*. Ask your Gitlab username and add it to git config so you won't be asked every time you update.

v3.1.0.2
Added option in plugin manager to check for plugin updates and update all of them at once. Moved getconf, getprop, and md5chk functions to srktools module to be accessible by plugins. Fixed plugin manager returning to main menu if a non-existing option is pressed. Removed unused language variables. Fixed not returning to main menu when adb perations fail.

v3.1.0.1
Fixed removing flags following verify when removing dm-verity. Ignore system_b.img in newer Moto firmware. Call /sbin/unzip instead of busybox unzip when installing mods.

v3.1.0.0
Fixed fstab detection correctly this time.

v3.0.9.9
Windows: Fixed default.prop operations if default.prop is a symlink. Remove dm-verity and forceencrypt from all fstab files if more than one exist. Fixed crash on first update after fresh clone due to updatecheck conf not being set yet.

v3.0.9.8
Fixed fstab not being found in /vendor/etc if init.rc is not in /system. Fixed Pixel/Pixel2 default.prop/prop.default detection. Linux: Fixed ownership of fstab and default.prop/prop.default when they are changed and exist outside the boot.img. Fixed crash when entering boot/recovery menu on Pixel/Pixel2 devices.

v3.0.9.7
Fixed boot.img not unpacking/repacking after last update.

v3.0.9.6
Updated checksum for Android Image Kitchen v3.0 by @osm0sis. Fixed dm-verity status display if fstab exists but dm-verity is in the dtb.

v3.0.9.5
Added support for removing dm-verity from dtb. Removed magiskboot option as it is no longer needed. Fixed extracting more than system sparsechunks in some moto firmware.

v3.0.9.4
Added support for fixing Moto system.img with additional superblock. Added a check for sparse images to only run simg2img if needed. Move art files along with odex and vdex for deodexing if they exist. Do not run smali if baksmali fails.

v3.0.9.3
Let the kitchen finish installing if downloading devices.zip is the only problem. Show list of failed items when kitchen tools install fails. Fixed asking for signature after changing perm types even if you already have one set. Fixed language conf not being unset after update. Fixed language conf not being unset when resetting all tools. Fixed dependencies conf not being unset when resetting all tools. Added option in the update menu to toggle checking for updates when the kitchen starts. Fixed update menu allowing you to choose non-existing options.

v3.0.9.2
Fixed deodexing framework for M, N and O smali/baksmali methods. Alphabetically sort oat deodexing.

v3.0.9.1
Fixed metadata lines not being added to the updater script after v3.0.8.9. Really don't log simg2img Invalid sparse file format. 

v3.0.9.0
Fixed broken by-name/mmc operations after last update. 

v3.0.8.9
Do not log simg2img Invalid sparse file format at header magi during extraction when trying to unsparse a raw img. Fixed boot.log ending up in the wrong place with the wrong name. Alphabetically sort the extract file list. Store ROM config info in project srk.conf instead of single line or empty files. Store kitchen config info in kitchen srk.conf instead of single line or empty files. Added temprorary function to convert single line and empty files into srk.conf lines. Fixed import readline error on 32-bit Linux. Fixed device asserts adding a comma after the default device if you leave the input field empty and press enter. Fixed language download. Minor code cleanup.

v3.0.8.8
Fixed crash and/or unexpected behavior if there is no fstab in the boot.img. Added option to patch the boot.img with magiskboot to disable dm-verity and forceencrypt (alpha testing). Added option to restore original boot/recovery.img after packing or patching. Fixed a few cosmetic bugs with menus and prompts. Log all boot pack/unpack operations in boot.log. Added ability to build ext4 img files from included directories chosen when extracting. Windows: Create fs_config files from tar/win backups. Get original file contexts from tar/win backups. Huge improvments in the set_metadata updater-script for tar/win extractions.

v3.0.8.7
Fixed crash if vdex is used but not for all odex files. Create fs_config for all img files extracted instead of only system and vendor. Use fs_config for creating all ext4 img files if it exists. Fixed some tar files not extracting and crashing in certain cases.

v3.0.8.6
Added tools/gapps to .gitignore for the gapps plugin to store gapps zips.

v3.0.8.5
Fixed /data not flashing in sparse_dat roms if set_metadata is chosen for /data.

v3.0.8.4
Fixed partition size through adb for /data. 

v3.0.8.3
Fixed data.new.dat not being created/zipped when choosing sparse_dat for data perm type.

v3.0.8.2
Fixed by-name address when adding /data to rom. Added check to be sure system.img can be fixed if created from Motorola sparsechunk files. Added status message when fixing Motorola system.img.

v3.0.8.1
Windows: Fixed extracting Motorola firmware that contains sparsechunk files. Linux: Removed awk, dd, and head dependencies. Log simg2img operations in main.log.

v3.0.8.0
Fixed crash starting windows after last update.

v3.0.7.9
Fixed text input not allowing arrow keys. Added text showing img size while building. Log img2sdat and sdat2img operations in main.log. Return and cleanup properly during sparse_dat rom creation if system.img build fails. New update-binary compiled and patched by @Captain_Throwback to hopefully fix all issues. Fixed unzip arguments for unpacking chunk files and for unpacking update-binary when signing.

v3.0.7.8
Keep all adb shell calls inside quotes to avoid windows grep, tr, etc errors. Hopefully fixed partition size through adb, again. Added dependencies check for Windows. Windows: Python2 is now a required dependency. Removed extra mount command in sparse_dat updater-script (thanks @firefds). Linux: Removed which dependency.

v3.0.7.7
Really fixed updater-script not changing by-name partition labels when required.

v3.0.7.6
Ignore data.ext4.win when extracting system.ext4.win. Windows: Fixed crash when trying to get data from build.prop on le_x2 and possibly others. Do not accept symlinks with non-ascii characters. Fixed updater-script not changing by-name partition labels when required. Added support for j3xnlte style by-name partition labels.

v3.0.7.5
Fixed m key press not taking you to the main menu from the extract menu. Reverted to old screen clearing method for WSL. Fixed file_contexts.bin conversion for some files. Fixed TWRP backups without a system directory not extracting. Linux (not WSL): Create fs_config files from TWRP *.win* and older *.tar backups. Fixed crash when getting partition size through device. Windows: Hopefully fixed getting partition size from device. Replaced oat2dex latest commit with latest release.

v3.0.7.4
Fixed E:unknown command [] at the end of flashing due to tabs in the updater-script (thanks @nkk71 for finding the solution).

v3.0.7.3
Fixed SuperSU.zip download not working since their SSL cert expired.

v3.0.7.2
Fixed last update breaking the kitchen. Updated SuperSU to v2.82 SR5. Updated Busybox installer by @osm0sis to latest version.

v3.0.7.1
Updated img2sdat by @xpirt to version 1.5. New update-binary for use in all perm_types, patched and compiled by @Captain_Throwback. Fixed typo/bug when getting partition size through adb shell. Fixed regression from #de161929 not allowing to unpack boot.img without unpacking rom first. Updated smali, baksmali, and oat2dex to the latest commits. Use 7-zip to extract zips instead of Python zipfile module. Log all zip pack/unpack operations in 00_project_files/logs/zip.log.

v3.0.7.0
Linux: Removed tput dependency. Sort plugin list alphabetically. Added support for detecting amlogic partition paths when choosing to Detect mmcblk partitions from recovery.img.

v3.0.6.9
Windows: Added screen clearing with ability to scroll up to see the history (same behavior as Linux). Linux: Removed getcap, stat, and some other unneeded dependencies. Linux: Added check/error for running as root. Look for device name in ro.build.description as a last resort to avoid crash.

v3.0.6.8
Fixed crash if ro.build.display.id does not exist in build.prop. Added support for extracting newer Motorola firmware packages. Added /system/vendor/etc to fstab check locations. Some code cleanup.

v3.0.6.7
The new Quit/Restart now only requires a single key press. superr.exe is even safer now according to VirusTotal.

v3.0.6.6
Fixed errors while packing dex into jar files when there are multiple dex files for the jar. Hopefully fixed superr.exe getting removed by Windows Defender (thanks @nkk71 for pointing out the double system call). The kitchen now asks if you want to quit or restart when choosing quit from the menus or when the kitchen crashes. Fixed symlinks ending up as set_metadata lines when the source files have non-standard file_contexts.

v3.0.6.5
Use sysXtract by @nkk71 to extract img files, and use 7-zip as a backup. Linux: Use all 64-bit binaries on 64-bit systems. Fixed crash when deodexing firmware that contains /system/vendor/framework that is already deodexed. Added check to be sure all files with non-standard file contexts get added to the updater-script for set_metadata perm type. Use correct file contexts for /vendor in set_metadata updater-script. Fixed root not being added to the updater-script after changing perm types if previously rooted. Updated the update-binary script functions by @osm0sis. Added a slightly modified arch detection by @topjohnwu to the update-binary script to include the correct libs for 64-bit Android when setting metadata. Modified set_metadata/_recursive functions to use the correct libs in the update-binary script. Replaced package_extract_file and package_extract_dir functions in the update-binary script to improve extraction speed. Improved on-device by-name detection in configure.sh by testing the path for system and boot. Fixed crash when creating set_metadata updater-script from a system directory with no symlinks.

v3.0.6.4
Windows now creates fs_config files when extracting system.img (@nkk71 has done it again!). Added fs_config status next to "Build system.img" in the Build Menu. Windows and Linux both use 7-zip to extract img files. Improvements to set_metadata perm type to be sure we get all files with capabilities into the updater-script. Removed getcap dependency.

v3.0.6.3
Linux: Fixed system.img extraction not creating fs_config if there are no capabilities. Linux: Fixed vendor.img extraction.

v3.0.6.2
Fixed all device files being zipped when choosing to zip new device files. Added option to upload new device database files directly from the "Zip devices/capfiles to share" menu. Keep track of new devices you have already uploaded, do not keep track if they are not uploaded. Added option to upload support.zip directly from the "Support: Create zip to send" menu. Added XDA username question to be used in filenames when creating device and support zips so I can match uploaded files to xda posts more easily.

v3.0.6.1
Linux - Use custom fs_config file to build system.img if you extracted from a system.img, or if one exists in the devices database. Windows - Use custom fs_config file to build system.img if one exists in the devices database. Add current device directory to support.zip. Moved devices database out of the repo, will be downloaded during first run. Added option to Misc Tools to update device database. Use SSL to download plugins.

v3.0.6.0
Fixed typo preventing vendor.new.dat from being created in sparse_dat roms. Fixed /vendor/default.prop being modified instead of /default.prop on pre-Oreo Pixel/XL roms. Updated make_ext4fs for Oreo. make_ext4fs now uses pure AOSP permissions and capabilities. Windows make_ext4fs is finally up to date (Huge thanks to @nkk71 for fixing the cygwin build to make this possible). Updated Android Image Kitchen by @osm0sis to v2.9.

v3.0.5.9
Updated SuperSU to v2.82-SR3. Fixed apks not getting deodexed if system/app is in the path name but are not in /system/app. Look for system/init.rc instead of system/default.prop for Pixel/XL firmware detection. Pixel/XL updater-script: Added / in front of egl symlinks, allow /system/etc > /system/etc symlink. Added at least partial support for Pixel/XL Oreo. Added at least partial support for devices such as Odroid where the root partition contains the system files and ramdisk. Properly handle file contexts if they are not found from the mounted system.img.

v3.0.5.8
Rename img files to lower case when choosing to extract img. Add boot.img to updater-script and ROM.zip when building for Pixel/XL devices.

v3.0.5.7
Updated md5 for Busybox Installer by @osm0sis to v1.27.1. Added fileencryption to the forceencrypt removed list. Added capfiles-23 and capfiles-24 for gts28vewifi.

v3.0.5.6
Fixed crash when creating symlinks if the destination file already exists. Fixed crash getting directory size when the directory contains symlinks. Fixed crash in oat2dex method right after downloading official oat2dex.jar. Fixed crash if app or priv-app directories do not exist while deodexing. Fixed crash when deodexing if there is an app directory but no apk. Windows: Added more capability files.

v3.0.5.5
Fixed crash in oat2dex deodex method after choosing official oat2dex. Fixed Lollipop deodex not removing arch directory. Fixed Lollipop deodexing apps a second time when deodexing framework. Windows: Added more capability files.

v3.0.5.4
Windows: Added per-device capabilities files to the device database (tools/devices) that will be used if it exists.

v3.0.5.3
Fixed system.ext4.win extraction when there are recovery files in the directory.

v3.0.5.2
Fixed system.ext4.win extraction when there are sha2 files in the directory.

v3.0.5.1
Added option to download/install language translations. Added Chinese to the language downloads. Windows: Fixed language check overwriting the new language file.

v3.0.5.0
Use 7-zip for all zip compression.

v3.0.4.9
Windows: Speed and accuracy improvements to file_contexts in updater-script. Windows: Sort symlinks. Windows: Fix /egl symlinks missing the /. Fixed crash and properly handle new java -version output. Added per-project option to set rom zip compression level in file 00_project_files/rom_comp_level.

v3.0.4.8
Added support for the new plat/nonplat_file_contexts in Android O DP4. Improved get_contexts function to parse the wildcards provided in *_context files.

v3.0.4.7
Find and use latest Busybox installer by @osm0sis instead of using a predefined link. Updated Busybox md5 to v1.26.2 by osm0sis.

v3.0.4.6
Find and use latest version of Android Image Kitchen by @osm0sis instead of using a predefined link.

v3.0.4.5
Per-project custom debloat is now possible by adding bloat_custom file to your 00_project_files directory.

v3.0.4.4
Don't adb pull cache.img when extracting from Samsung devices. Fixed crash if there is no csc.zip in the cache.img when extracting Samsung firmware.

v3.0.4.3
Fixed update-binary conversion not working with configure.sh. Fixed several other major issues with update-binary conversion. Switched from native Windows/Linux commands to Python command for moving directories. Added cache.img to the adb pull list for Samsung devices. Fixed crash when we try to install a plugin but the server is down.

v3.0.4.2
Exclude .ftm from fstab list. Fixed crash when creating support.zip. Tried to fix crash when extracting from adb on some devices.

v3.0.4.1
Added md5 check for SuperSU.zip and Busybox.zip after update.

v3.0.4.0
Install all modules automatically when the kitchen is run. Added md5 check of tools after kitchen update to see if they need to be updated. Windows: Fixed only getting symlinks from the 1st volume when extracting multi-volume tar/win files. Linux: Fixed AIK install crashing on fresh kitchen clone.

v3.0.3.9
Removed build.prop requirement when unpacking boot.img. Upper and lower case responses are now accepted in all menus and prompts. Linux: Fixed init.d being owned by root after adding it. Fixed extracting tar/win files that were created using absolute paths. Windows: Fixed symlinks not being created and causing a crash when extracting tar/win files.

v3.0.3.8
Updated SuperSU to v2.82-SR1. Linux: Fixed kitchen hanging when trying to delete a project that contains an unpacked boot.img with root owned files. Fixed crash if ro.build.display.id does not exist in build.prop.

v3.0.3.7
Added /data mount and unmount commands when /data/app is enabled. Fixed a few occurrences of SYSTEM and APP devices using system.

v3.0.3.6
Fixed dm-verity not being removed on some devices. Fixed by-name not being correctly detected on some devices. Added mofd_v1 to the fstab ignore list. Fixed fstab not being detected and hanging if /system is not in any existing fstab.

v3.0.3.5
Fixed crashes when dealing with boot.img and possibly others.

v3.0.3.4
Windows: The kitchen launcher now calls python3 instead of python. Windows: All internal Python calls to external programs call the appropriate python/python3. Fixed issue with custom asserts.

v3.0.3.3
Updated plugin url to work with new file server.

v3.0.3.2
Windows: Fixed Pixel/XL symlink failure when flashing.

v3.0.3.1
Fixed custom zip not showing status on screen after offering to convert to update-binary. Fixed Pixel/XL slot detection in configure.sh. Fixed Pixel/XL symlink failure when flashing.

v3.0.3.0
Windows: Hopefully fixed adb extract on most devices when booted in Android.

v3.0.2.9
Fixed crash if we don't get device name from an adb extraction. Use capital SYSTEM when needed while extracting with adb and booted in Android. Look for a good place for extraction on device when using adb booted in Android. Look for img files to adb pull when booted in Android. Fixed crash while unpacking recovery.img. Fixed crash when extracting system.img that includes /system/bin/[.

v3.0.2.8
Fixed crash when extracting zips containing AP and CSC tar.md5 files. Add metadata lines for everything in /system/bin recursively. Updated configure.sh to hopefully make it more compatible with more devices. Fixed adb partition size detection.

v3.0.2.7
Fixed smali/baksmali crash when there is no apkname__classes.dex and we try to rename.

v3.0.2.6
Fixed /data always including itself in raw_img roms. Fixed extra partitions such as /vendor not being included in raw_img roms even if you want them.

v3.0.2.5
Fixed cache.img not being extracted from tar.md5 when not contained in a zip. Look for and extract system and cache .img, .img.ext4, and .ext4 from tar.md5 files. Linux: Fixed some AIK 2.8 binaries not being marked executable after extraction. Windows: Fixed crash when extracting system.img due to currently unknown error, and log the line that causes the error.

v3.0.2.4
Windows: New icon for the launcher, and smaller size. WSL: Fixed img files not extracting. Windows: Fixed line ending in configure.sh

v3.0.2.3
Fixed crash if trying to extract an img file when there is no build.prop. Added support for sec_omc.zip files in newer cache.img like gs8. Windows: Fixed files not being extracted from system.img. 

v3.0.2.2
Linux: Fixed crash when ls -Z does not output file context, and we iterate file_contexts file. Linux: Fixed failing to get directory contexts from system.img. Linux: Fixed directory symlinks not being created. Fixed boot.img line not being removed from updater-script on Pixel/XL devices. Fixed debloat not removing all files in bloat list. Fixed file_contexts file not including / and /d. Updated Android Image Kitchen by @osm0sis to v2.8.

v3.0.2.1
Windows/WSL: Back to Python zipfile() module for compressing flashable zips. Linux: Fixed the error created in last update unpacking AIK when fresh cloning. Added check for / at the beginning of bloat_custom lines before deleting to be sure we only delete paths relative to the project directory.

v3.0.2.0
Fixed odex.xz files crashing the kitchen. Added option to remove asserts from ROM. Do not use fstab with .fota in the name. Use 7-zip (included) to pack all flashable zips in Windows and WSL.

v3.0.1.9
Windows: Fixed b key press not being recognized. Added a Back option to the root method options. Only allow key presses that correspond to menu options. Fixed project name adding an extra superr_ when creating new project from the project selection menu. Set permissions of configure.sh to 777 instead of /tmp to 755.

v3.0.1.8
Windows: Use 7-zip (included) to extract img files instead of Imgextractor. Windows: Fixed missing symlinks in updater-script. Windows: Fixed many file contexts not being set correctly. Windows/Linux: Fixed system/SYSTEM on devices that use SYSTEM. Linux: Do not create metadata lines for symlinks.

v3.0.1.7
Fixed manually signing zip when there are more than one to choose from. Added ability to convert all flashable zips to update-binary script when building. Added per-project option in Misc Tools for update-binary script - Always convert, Never convert, Ask every time. Added check for delete_recursive when converting to update-binary script. Fixed mount command not getting converted to update-binary script if rom does not use by-name.

v3.0.1.6
Fix crash when signing zips that use an update-binary script in Windows. Log zip signing in sign.log. Fixed update-binary conversion on roms that do not use by-name. Make a copy of *_statfile.txt after extracting img files in Windows. Add *_statfile.txt to support zip. Add META-INF directory to support.zip. Fixed Downloading/installing screen that disappeared.

v3.0.1.5
Disable sepolicy-inject root method for Windows. Fixed sepolicy-inject root method for Linux. Fixed some debloat/knox checks. Updated smali/baksmali to v2.2.1.

v3.0.1.4
Display root type instead of Rooted. Fix error during deodex cleanup on L and M. Fix crash when removing knox.

v3.0.1.3
Change root status to rooted when adding Magisk using the plugin.

v3.0.1.2
Fixed logs crash when check for updates on start is enabled.

v3.0.1.1
Fixed crash in Windows when checking for app_chimera at the start of deodexing N and O. Fixed crash when finishing deodex on M and L. Fixed crash and show error message when entering the wrong syntax for custom asserts. Fixed boot/AIK still being part of the repo and causing Windows tools install failure after resetting tools and boot extraction failure on Linux. Fixed crash removing knox in Windows. Fixed crash deleting plugins if example does not exist. Heapsize errors now return you to heapsize options instead of Misc Tools. Added confirmation when deleting projects. Tried to fix META-INF1 remaining after builing rom.

v3.0.1.0
Fixed crash when choosing main menu from root zip options menu. Fixed crash when getting by-name through adb.

v3.0.0.9
zipalign - check to make sure files exist before renaming and record in main.log. Fixed assert getting broken when building rom. Fixed line endings in updater-script when running in Windows.

v3.0.0.8
Minor improvement to set_metadata generation in Windows. Fixed Android O rom not building due to lack of xbin.

v3.0.0.7
Ignore commented lines in build.prop. Do not create set_metadata lines for files/directories that do not exist. Do not use fstab with nodata in the name. Removed duplicate /system/vendor/firmware set_metadata line. Fixed tar creation for future use.

v3.0.0.6
Hopefully fixed crash after signing zips when checking for update-binary script. Updated Imgextract.exe to 1.3.7.

v3.0.0.5
Fixed Windows kitchen trying to update the Linux launcher. Fixed cyfile errors. Fixed system.img.ext4 not being renamed automatically if not in an archive. Added dialog informing we are getting the plugin list when installing a plugin.  Check for and show error message when trying to run Bash plugins in Windows. Remove all set_metadata lines with a context of "?". Add all files in /system/bin to the updater-script.

v3.0.0.4
Require kitchen restart after updating. Fixed duplicate unmount commands in updater-script when extracting extra img files. Fixed some language file checks from crashing. Added official Windows launcher (superr.exe). The kitchen should install psutil (win/linux) and colorama (win) packages now if they are not already installed.

v3.0.0.3
Fixed custom zips on Pixel devices. Removed attempts to pip install packages from within the kitchen. Added logging to adb operations.

v3.0.0.2
Fixed extracting Pixel firmware.

v3.0.0.1
Download and extract Android Image Kitchen (Linux) directly from the XDA thread. Fixed extracting tar.gz files. Fixed crash if the main tools download/extract fails. Fixed crash in Linux when updating the kitchen launcher. Fixed crash when running the updater if there is no update available. Added logging to img extract operations. Fixed crash if Java 8 is not installed on Linux. Added check for proper java installation on Windows. Fixed language files other than English.

v3.0.0.0
Rewritten in Python for cross-platform support.
